type Point {
  x: Int
}

func xView(p: view Point): ret view Int {
  ret view  p.x
}

func main() {
  def p: Point = { x: 7 }
  def r: view Int => p.xView()
  # expect 7
  # expect 7
  log(r)
  log(p.x)
}
