type Point {
  x: Int
}

func badMod(): ret mod Int {
  def p: Point = { x: 1 }
  # ERROR: reference escapes local storage
  ret mod  p.x
}

func badView(): ret view Int {
  def p: Point = { x: 1 }
  # ERROR: reference escapes local storage
  ret view  p.x
}

func main() {
  log("should not run")
}
