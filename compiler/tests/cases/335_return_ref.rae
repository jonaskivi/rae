type Point {
  x: Int
}

func getX(p: mod Point): ret mod Int {
  ret mod p.x # OK: derived from param
}

func main() {
  def p: Point = {x: 1}
  def rx: mod Int => getX(p: p)
  rx = 10
  log(p.x) # expect 10
}